var Mt=Object.defineProperty,qt=(e,t,s)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,y=(e,t,s)=>(qt(e,typeof t!="symbol"?t+"":t,s),s);class N{constructor(){y(this,"state","NEW")}new(){return this.state="NEW",this}clean(){return this.state="CLEAN",this}dirty(){return this.state="DIRTY",this}delete(){return this.state="DELETED",this}get isNew(){return this.state=="NEW"}get isClean(){return this.state=="CLEAN"}get isDirty(){return this.state=="DIRTY"}get isDeleted(){return this.state=="DELETED"}validate(t=!1){return!0}}class wt extends N{constructor(t){super(),y(this,"id",0),y(this,"_name",""),y(this,"_type","TEXT"),y(this,"_spaceId",0),y(this,"_space",null),t&&(this.name=t)}get name(){return this._name}set name(t){t!==this._name&&(this._name=t,this.isClean&&this.dirty())}get type(){return this._type}set type(t){if(!this.isNew)throw Error("Cannot change an attribute's type once it has been created.");this._type=t}get isText(){return this.type=="TEXT"}get isNumber(){return this.type=="NUMBER"}get isBoolean(){return this.type=="BOOLEAN"}get isDate(){return this.type=="DATE"}asText(){return this.type="TEXT",this}asNumber(){return this.type="NUMBER",this}asBoolean(){return this.type="BOOLEAN",this}asDate(){return this.type="DATE",this}get spaceId(){return this._spaceId}set spaceId(t){var s;t!==this._spaceId&&(this._spaceId=t,t!==((s=this.space)==null?void 0:s.id)&&(this._space=null),this.isClean&&this.dirty())}get space(){return this._space}set space(t){this._space=t,this.spaceId=(t==null?void 0:t.id)??0}in(t){return typeof t=="number"?this.spaceId=t:this.space=t,this}duplicate(){const t=new wt;return t.id=this.id,t.name=this.name,t.type=this.type,t.space=this.space,t}validate(t=!1){let s=null;if(this.spaceId<=0?s="Note spaceId must be greater than zero.":!this.isNew&&this.id<=0&&(s="Attr id must be greater than zero if in non-new state."),t&&s!=null)throw Error(s);return s==null}get defaultValue(){switch(this.type){case"TEXT":return"";case"NUMBER":return 0;case"BOOLEAN":return!1;case"DATE":return new Date}}toJSON(){return{state:this.state,id:this.id,name:this.name,type:this.type,spaceId:this.spaceId}}}function Et(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jt}=Object.prototype,{getPrototypeOf:Q}=Object,j=(e=>t=>{const s=Jt.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),I=e=>(e=e.toLowerCase(),t=>j(t)===e),k=e=>t=>typeof t===e,{isArray:R}=Array,x=k("undefined");function $t(e){return e!==null&&!x(e)&&e.constructor!==null&&!x(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bt=I("ArrayBuffer");function Vt(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bt(e.buffer),t}const Wt=k("string"),b=k("function"),_t=k("number"),z=e=>e!==null&&typeof e=="object",Kt=e=>e===!0||e===!1,F=e=>{if(j(e)!=="object")return!1;const t=Q(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xt=I("Date"),Gt=I("File"),Zt=I("Blob"),Qt=I("FileList"),Yt=e=>z(e)&&b(e.pipe),te=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||b(e.append)&&((t=j(e))==="formdata"||t==="object"&&b(e.toString)&&e.toString()==="[object FormData]"))},ee=I("URLSearchParams"),se=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function P(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,n;if(typeof e!="object"&&(e=[e]),R(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Tt(e,t){t=t.toLowerCase();const s=Object.keys(e);let r=s.length,n;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const It=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ot=e=>!x(e)&&e!==It;function W(){const{caseless:e}=Ot(this)&&this||{},t={},s=(r,n)=>{const i=e&&Tt(t,n)||n;F(t[i])&&F(r)?t[i]=W(t[i],r):F(r)?t[i]=W({},r):R(r)?t[i]=r.slice():t[i]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&P(arguments[r],s);return t}const re=(e,t,s,{allOwnKeys:r}={})=>(P(t,(n,i)=>{s&&b(n)?e[i]=Et(n,s):e[i]=n},{allOwnKeys:r}),e),ne=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ie=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},oe=(e,t,s,r)=>{let n,i,o;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&Q(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},ae=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},ue=e=>{if(!e)return null;if(R(e))return e;let t=e.length;if(!_t(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},le=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Q(Uint8Array)),ce=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=s.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},he=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},de=I("HTMLFormElement"),pe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),at=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),fe=I("RegExp"),St=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};P(s,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(r[i]=o||n)}),Object.defineProperties(e,r)},me=e=>{St(e,(t,s)=>{if(b(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(b(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ye=(e,t)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return R(e)?r(e):r(String(e).split(t)),s},ge=()=>{},we=(e,t)=>(e=+e,Number.isFinite(e)?e:t),q="abcdefghijklmnopqrstuvwxyz",ut="0123456789",At={DIGIT:ut,ALPHA:q,ALPHA_DIGIT:q+q.toUpperCase()+ut},Ee=(e=16,t=At.ALPHA_DIGIT)=>{let s="";const{length:r}=t;for(;e--;)s+=t[Math.random()*r|0];return s};function be(e){return!!(e&&b(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const _e=e=>{const t=new Array(10),s=(r,n)=>{if(z(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[n]=r;const i=R(r)?[]:{};return P(r,(o,l)=>{const p=s(o,n+1);!x(p)&&(i[l]=p)}),t[n]=void 0,i}}return r};return s(e,0)},Te=I("AsyncFunction"),Ie=e=>e&&(z(e)||b(e))&&b(e.then)&&b(e.catch),a={isArray:R,isArrayBuffer:bt,isBuffer:$t,isFormData:te,isArrayBufferView:Vt,isString:Wt,isNumber:_t,isBoolean:Kt,isObject:z,isPlainObject:F,isUndefined:x,isDate:Xt,isFile:Gt,isBlob:Zt,isRegExp:fe,isFunction:b,isStream:Yt,isURLSearchParams:ee,isTypedArray:le,isFileList:Qt,forEach:P,merge:W,extend:re,trim:se,stripBOM:ne,inherits:ie,toFlatObject:oe,kindOf:j,kindOfTest:I,endsWith:ae,toArray:ue,forEachEntry:ce,matchAll:he,isHTMLForm:de,hasOwnProperty:at,hasOwnProp:at,reduceDescriptors:St,freezeMethods:me,toObjectSet:ye,toCamelCase:pe,noop:ge,toFiniteNumber:we,findKey:Tt,global:It,isContextDefined:Ot,ALPHABET:At,generateString:Ee,isSpecCompliantForm:be,toJSONObject:_e,isAsyncFn:Te,isThenable:Ie};function m(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n)}a.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Nt=m.prototype,Rt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Rt[e]={value:e}});Object.defineProperties(m,Rt);Object.defineProperty(Nt,"isAxiosError",{value:!0});m.from=(e,t,s,r,n,i)=>{const o=Object.create(Nt);return a.toFlatObject(e,o,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),m.call(o,e.message,t,s,r,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Oe=null;function K(e){return a.isPlainObject(e)||a.isArray(e)}function Ct(e){return a.endsWith(e,"[]")?e.slice(0,-2):e}function lt(e,t,s){return e?e.concat(t).map(function(r,n){return r=Ct(r),!s&&n?"["+r+"]":r}).join(s?".":""):t}function Se(e){return a.isArray(e)&&!e.some(K)}const Ae=a.toFlatObject(a,{},null,function(e){return/^is[A-Z]/.test(e)});function v(e,t,s){if(!a.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=a.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,h){return!a.isUndefined(h[d])});const r=s.metaTokens,n=s.visitor||u,i=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(t);if(!a.isFunction(n))throw new TypeError("visitor must be a function");function p(d){if(d===null)return"";if(a.isDate(d))return d.toISOString();if(!l&&a.isBlob(d))throw new m("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(d)||a.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,h,E){let _=d;if(d&&!E&&typeof d=="object"){if(a.endsWith(h,"{}"))h=r?h:h.slice(0,-2),d=JSON.stringify(d);else if(a.isArray(d)&&Se(d)||(a.isFileList(d)||a.endsWith(h,"[]"))&&(_=a.toArray(d)))return h=Ct(h),_.forEach(function(M,Ht){!(a.isUndefined(M)||M===null)&&t.append(o===!0?lt([h],Ht,i):o===null?h:h+"[]",p(M))}),!1}return K(d)?!0:(t.append(lt(E,h,i),p(d)),!1)}const c=[],f=Object.assign(Ae,{defaultVisitor:u,convertValue:p,isVisitable:K});function w(d,h){if(!a.isUndefined(d)){if(c.indexOf(d)!==-1)throw Error("Circular reference detected in "+h.join("."));c.push(d),a.forEach(d,function(E,_){(!(a.isUndefined(E)||E===null)&&n.call(t,E,a.isString(_)?_.trim():_,h,f))===!0&&w(E,h?h.concat(_):[_])}),c.pop()}}if(!a.isObject(e))throw new TypeError("data must be an object");return w(e),t}function ct(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Y(e,t){this._pairs=[],e&&v(e,this,t)}const xt=Y.prototype;xt.append=function(e,t){this._pairs.push([e,t])};xt.toString=function(e){const t=e?function(s){return e.call(this,s,ct)}:ct;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pt(e,t,s){if(!t)return e;const r=s&&s.encode||Ne,n=s&&s.serialize;let i;if(n?i=n(t,s):i=a.isURLSearchParams(t)?t.toString():new Y(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Re{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){a.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ht=Re,Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ce=typeof URLSearchParams<"u"?URLSearchParams:Y,xe=typeof FormData<"u"?FormData:null,Pe=typeof Blob<"u"?Blob:null,De=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Fe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",T={isBrowser:!0,classes:{URLSearchParams:Ce,FormData:xe,Blob:Pe},isStandardBrowserEnv:De,isStandardBrowserWebWorkerEnv:Fe,protocols:["http","https","file","blob","url","data"]};function Be(e,t){return v(e,new T.classes.URLSearchParams,Object.assign({visitor:function(s,r,n,i){return T.isNode&&a.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Le(e){return a.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ue(e){const t={},s=Object.keys(e);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],t[i]=e[i];return t}function Ft(e){function t(s,r,n,i){let o=s[i++];const l=Number.isFinite(+o),p=i>=s.length;return o=!o&&a.isArray(n)?n.length:o,p?(a.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!l):((!n[o]||!a.isObject(n[o]))&&(n[o]=[]),t(s,r,n[o],i)&&a.isArray(n[o])&&(n[o]=Ue(n[o])),!l)}if(a.isFormData(e)&&a.isFunction(e.entries)){const s={};return a.forEachEntry(e,(r,n)=>{t(Le(r),n,s,0)}),s}return null}function je(e,t,s){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const tt={transitional:Dt,adapter:["xhr","http"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,n=a.isObject(e);if(n&&a.isHTMLForm(e)&&(e=new FormData(e)),a.isFormData(e))return r&&r?JSON.stringify(Ft(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Be(e,this.formSerializer).toString();if((i=a.isFileList(e))||s.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return v(i?{"files[]":e}:e,o&&new o,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),je(e)):e}],transformResponse:[function(e){const t=this.transitional||tt.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&a.isString(e)&&(s&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n)throw i.name==="SyntaxError"?m.from(i,m.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],e=>{tt.headers[e]={}});const et=tt,ke=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ze=e=>{const t={};let s,r,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),s=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!s||t[s]&&ke[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},dt=Symbol("internals");function C(e){return e&&String(e).trim().toLowerCase()}function B(e){return e===!1||e==null?e:a.isArray(e)?e.map(B):String(e)}function ve(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const He=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function J(e,t,s,r,n){if(a.isFunction(r))return r.call(this,t,s);if(n&&(t=s),!!a.isString(t)){if(a.isString(r))return t.indexOf(r)!==-1;if(a.isRegExp(r))return r.test(t)}}function Me(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function qe(e,t){const s=a.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(n,i,o){return this[r].call(this,t,n,i,o)},configurable:!0})})}class H{constructor(t){t&&this.set(t)}set(t,s,r){const n=this;function i(l,p,u){const c=C(p);if(!c)throw new Error("header name must be a non-empty string");const f=a.findKey(n,c);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||p]=B(l))}const o=(l,p)=>a.forEach(l,(u,c)=>i(u,c,p));return a.isPlainObject(t)||t instanceof this.constructor?o(t,s):a.isString(t)&&(t=t.trim())&&!He(t)?o(ze(t),s):t!=null&&i(s,t,r),this}get(t,s){if(t=C(t),t){const r=a.findKey(this,t);if(r){const n=this[r];if(!s)return n;if(s===!0)return ve(n);if(a.isFunction(s))return s.call(this,n,r);if(a.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=C(t),t){const r=a.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||J(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let n=!1;function i(o){if(o=C(o),o){const l=a.findKey(r,o);l&&(!s||J(r,r[l],l,s))&&(delete r[l],n=!0)}}return a.isArray(t)?t.forEach(i):i(t),n}clear(t){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!t||J(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const s=this,r={};return a.forEach(this,(n,i)=>{const o=a.findKey(r,i);if(o){s[o]=B(n),delete s[i];return}const l=t?Me(i):String(i).trim();l!==i&&delete s[i],s[l]=B(n),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return a.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=t&&a.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(n=>r.set(n)),r}static accessor(t){const s=(this[dt]=this[dt]={accessors:{}}).accessors,r=this.prototype;function n(i){const o=C(i);s[o]||(qe(r,i),s[o]=!0)}return a.isArray(t)?t.forEach(n):n(t),this}}H.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(H.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});a.freezeMethods(H);const O=H;function $(e,t){const s=this||et,r=t||s,n=O.from(r.headers);let i=r.data;return a.forEach(e,function(o){i=o.call(s,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Bt(e){return!!(e&&e.__CANCEL__)}function D(e,t,s){m.call(this,e??"canceled",m.ERR_CANCELED,t,s),this.name="CanceledError"}a.inherits(D,m,{__CANCEL__:!0});function Je(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new m("Request failed with status code "+s.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const $e=T.isStandardBrowserEnv?function(){return{write:function(e,t,s,r,n,i){const o=[];o.push(e+"="+encodeURIComponent(t)),a.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),a.isString(r)&&o.push("path="+r),a.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ve(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function We(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Lt(e,t){return e&&!Ve(t)?We(e,t):t}const Ke=T.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let s;function r(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=r(window.location.href),function(n){const i=a.isString(n)?r(n):n;return i.protocol===s.protocol&&i.host===s.host}}():function(){return function(){return!0}}();function Xe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ge(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const p=Date.now(),u=r[i];o||(o=p),s[n]=l,r[n]=p;let c=i,f=0;for(;c!==n;)f+=s[c++],c=c%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),p-o<t)return;const w=u&&p-u;return w?Math.round(f*1e3/w):void 0}}function pt(e,t){let s=0;const r=Ge(50,250);return n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,l=i-s,p=r(l),u=i<=o;s=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:p||void 0,estimated:p&&o&&u?(o-i)/p:void 0,event:n};c[t?"download":"upload"]=!0,e(c)}}const Ze=typeof XMLHttpRequest<"u",Qe=Ze&&function(e){return new Promise(function(t,s){let r=e.data;const n=O.from(e.headers).normalize(),i=e.responseType;let o;function l(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}let p;a.isFormData(r)&&(T.isStandardBrowserEnv||T.isStandardBrowserWebWorkerEnv?n.setContentType(!1):n.getContentType(/^\s*multipart\/form-data/)?a.isString(p=n.getContentType())&&n.setContentType(p.replace(/^\s*(multipart\/form-data);+/,"$1")):n.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(d+":"+h))}const c=Lt(e.baseURL,e.url);u.open(e.method.toUpperCase(),Pt(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!u)return;const d=O.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),h={data:!i||i==="text"||i==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:d,config:e,request:u};Je(function(E){t(E),l()},function(E){s(E),l()},h),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(s(new m("Request aborted",m.ECONNABORTED,e,u)),u=null)},u.onerror=function(){s(new m("Network Error",m.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let d=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const h=e.transitional||Dt;e.timeoutErrorMessage&&(d=e.timeoutErrorMessage),s(new m(d,h.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,e,u)),u=null},T.isStandardBrowserEnv){const d=(e.withCredentials||Ke(c))&&e.xsrfCookieName&&$e.read(e.xsrfCookieName);d&&n.set(e.xsrfHeaderName,d)}r===void 0&&n.setContentType(null),"setRequestHeader"in u&&a.forEach(n.toJSON(),function(d,h){u.setRequestHeader(h,d)}),a.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),i&&i!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",pt(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",pt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=d=>{u&&(s(!d||d.type?new D(null,e,u):d),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const w=Xe(c);if(w&&T.protocols.indexOf(w)===-1){s(new m("Unsupported protocol "+w+":",m.ERR_BAD_REQUEST,e));return}u.send(r||null)})},X={http:Oe,xhr:Qe};a.forEach(X,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ft=e=>`- ${e}`,Ye=e=>a.isFunction(e)||e===null||e===!1,Ut={getAdapter:e=>{e=a.isArray(e)?e:[e];const{length:t}=e;let s,r;const n={};for(let i=0;i<t;i++){s=e[i];let o;if(r=s,!Ye(s)&&(r=X[(o=String(s)).toLowerCase()],r===void 0))throw new m(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+i]=r}if(!r){const i=Object.entries(n).map(([l,p])=>`adapter ${l} `+(p===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(ft).join(`
`):" "+ft(i[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:X};function V(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new D(null,e)}function mt(e){return V(e),e.headers=O.from(e.headers),e.data=$.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ut.getAdapter(e.adapter||et.adapter)(e).then(function(t){return V(e),t.data=$.call(e,e.transformResponse,t),t.headers=O.from(t.headers),t},function(t){return Bt(t)||(V(e),t&&t.response&&(t.response.data=$.call(e,e.transformResponse,t.response),t.response.headers=O.from(t.response.headers))),Promise.reject(t)})}const yt=e=>e instanceof O?e.toJSON():e;function A(e,t){t=t||{};const s={};function r(u,c,f){return a.isPlainObject(u)&&a.isPlainObject(c)?a.merge.call({caseless:f},u,c):a.isPlainObject(c)?a.merge({},c):a.isArray(c)?c.slice():c}function n(u,c,f){if(a.isUndefined(c)){if(!a.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function i(u,c){if(!a.isUndefined(c))return r(void 0,c)}function o(u,c){if(a.isUndefined(c)){if(!a.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,f){if(f in t)return r(u,c);if(f in e)return r(void 0,u)}const p={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,c)=>n(yt(u),yt(c),!0)};return a.forEach(Object.keys(Object.assign({},e,t)),function(u){const c=p[u]||n,f=c(e[u],t[u],u);a.isUndefined(f)&&c!==l||(s[u]=f)}),s}const jt="1.5.1",st={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{st[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const gt={};st.transitional=function(e,t,s){function r(n,i){return"[Axios v"+jt+"] Transitional option '"+n+"'"+i+(s?". "+s:"")}return(n,i,o)=>{if(e===!1)throw new m(r(i," has been removed"+(t?" in "+t:"")),m.ERR_DEPRECATED);return t&&!gt[i]&&(gt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,i,o):!0}};function ts(e,t,s){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const i=r[n],o=t[i];if(o){const l=e[i],p=l===void 0||o(l,i,e);if(p!==!0)throw new m("option "+i+" must be "+p,m.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new m("Unknown option "+i,m.ERR_BAD_OPTION)}}const G={assertOptions:ts,validators:st},S=G.validators;class U{constructor(t){this.defaults=t,this.interceptors={request:new ht,response:new ht}}request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=A(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&G.assertOptions(r,{silentJSONParsing:S.transitional(S.boolean),forcedJSONParsing:S.transitional(S.boolean),clarifyTimeoutError:S.transitional(S.boolean)},!1),n!=null&&(a.isFunction(n)?s.paramsSerializer={serialize:n}:G.assertOptions(n,{encode:S.function,serialize:S.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&a.merge(i.common,i[s.method]);i&&a.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),s.headers=O.concat(o,i);const l=[];let p=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(s)===!1||(p=p&&h.synchronous,l.unshift(h.fulfilled,h.rejected))});const u=[];this.interceptors.response.forEach(function(h){u.push(h.fulfilled,h.rejected)});let c,f=0,w;if(!p){const h=[mt.bind(this),void 0];for(h.unshift.apply(h,l),h.push.apply(h,u),w=h.length,c=Promise.resolve(s);f<w;)c=c.then(h[f++],h[f++]);return c}w=l.length;let d=s;for(f=0;f<w;){const h=l[f++],E=l[f++];try{d=h(d)}catch(_){E.call(this,_);break}}try{c=mt.call(this,d)}catch(h){return Promise.reject(h)}for(f=0,w=u.length;f<w;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=A(this.defaults,t);const s=Lt(t.baseURL,t.url);return Pt(s,t.params,t.paramsSerializer)}}a.forEach(["delete","get","head","options"],function(e){U.prototype[e]=function(t,s){return this.request(A(s||{},{method:e,url:t,data:(s||{}).data}))}});a.forEach(["post","put","patch"],function(e){function t(s){return function(r,n,i){return this.request(A(i||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}U.prototype[e]=t(),U.prototype[e+"Form"]=t(!0)});const L=U;class rt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(n){s=n});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(n,i,o){r.reason||(r.reason=new D(n,i,o),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new rt(function(s){t=s}),cancel:t}}}const es=rt;function ss(e){return function(t){return e.apply(null,t)}}function rs(e){return a.isObject(e)&&e.isAxiosError===!0}const Z={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z).forEach(([e,t])=>{Z[t]=e});const ns=Z;function kt(e){const t=new L(e),s=Et(L.prototype.request,t);return a.extend(s,L.prototype,t,{allOwnKeys:!0}),a.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return kt(A(e,r))},s}const g=kt(et);g.Axios=L;g.CanceledError=D;g.CancelToken=es;g.isCancel=Bt;g.VERSION=jt;g.toFormData=v;g.AxiosError=m;g.Cancel=g.CanceledError;g.all=function(e){return Promise.all(e)};g.spread=ss;g.isAxiosError=rs;g.mergeConfig=A;g.AxiosHeaders=O;g.formToJSON=e=>Ft(a.isHTMLForm(e)?new FormData(e):e);g.getAdapter=Ut.getAdapter;g.HttpStatusCode=ns;g.default=g;class nt extends N{constructor(t,s,r){super(),y(this,"_noteId",0),y(this,"_note",null),y(this,"_attrId",0),y(this,"_attr",null),y(this,"_value",null),y(this,"_tagId",null),y(this,"_tag",null),t!=null&&t!=null&&(typeof t=="number"?this.noteId=t:this.note=t),s!=null&&s!=null&&(typeof s=="number"?this.attrId=s:this.attr=s),r!=null&&r!=null&&(this.value=r)}get noteId(){return this._noteId}set noteId(t){var s;t!==this._noteId&&(this._noteId=t,t!==((s=this.note)==null?void 0:s.id)&&(this._note=null),this.isClean&&this.dirty())}get note(){return this._note}set note(t){this._note=t,this.noteId=(t==null?void 0:t.id)??0}get attrId(){return this._attrId}set attrId(t){var s;t!==this._attrId&&(this._attrId=t,t!==((s=this.attr)==null?void 0:s.id)&&(this._attr=null),this.isClean&&this.dirty())}get attr(){return this._attr}set attr(t){const s=this._attr;this._attr=t,t?(!s||t.type!=s.type)&&(this.value=t.defaultValue):this.value=null,this.attrId=(t==null?void 0:t.id)??0}get value(){return this._value}set value(t){t!=this._value&&(this._value=t,this.isClean&&this.dirty())}withValue(t){return this.value=t,this}get tagId(){return this._tagId}set tagId(t){var s;t!==this._tagId&&(this._tagId=t,t!==((s=this.tag)==null?void 0:s.id)&&(this._tag=null),this.isClean&&this.dirty())}get tag(){return this._tag}set tag(t){this._tag=t,this.tagId=(t==null?void 0:t.id)??null}onTag(t){return typeof t=="number"?this.tagId=t:this.tag=t,this}duplicate(){const t=new nt;return t.noteId=this.noteId,t.note=this.note,t.attrId=this.attrId,t.attr=this.attr,t.tagId=this.tagId,t.tag=this.tag,t.value=this.value,t}validate(t=!1){let s=null;if(this.noteId<=0&&!this.isNew?s="NoteAttr noteId must be greater than zero":this.attrId<=0&&(s="NoteAttr attrId must be greater than zero"),t&&s!=null)throw Error(s);return s==null}toJSON(){return{state:this.state,noteId:this.noteId,attrId:this.attrId,tagId:this.tagId,value:this.value}}}class it extends N{constructor(t,s){super(),y(this,"_noteId",0),y(this,"_note",null),y(this,"_tagId",0),y(this,"_tag",null),t!=null&&t!=null&&(typeof t=="number"?this.noteId=t:this.note=t),s!=null&&s!=null&&(typeof s=="number"?this.tagId=s:this.tag=s)}get noteId(){return this._noteId}set noteId(t){var s;t!==this._noteId&&(this._noteId=t,t!==((s=this.note)==null?void 0:s.id)&&(this._note=null),this.isClean&&this.dirty())}get note(){return this._note}set note(t){this._note=t,this.noteId=(t==null?void 0:t.id)??0}get tagId(){return this._tagId}set tagId(t){var s;t!==this._tagId&&(this._tagId=t,t!==((s=this.tag)==null?void 0:s.id)&&(this._tag=null),this.isClean&&this.dirty())}get tag(){return this._tag}set tag(t){this._tag=t,this.tagId=(t==null?void 0:t.id)??0}get attrs(){return this.note.attrs.filter(t=>t.tagId==this.tagId)}addAttr(t){if(!this.note)throw new Error("Cannot call addAttr on NoteTag where note property has not been set");const s=this.note.addAttr(t);return s.tag=this.tag,s}duplicate(){const t=new it;return t.noteId=this.noteId,t.tagId=this.tagId,t}validate(t=!1){let s=null;if(this.noteId<=0&&!this.isNew?s="NoteTag noteId must be greater than zero":this.tagId<=0?s="NoteTag tagId must be greater than zero":this.noteId==this.tagId&&(s="NoteTag cannot link a note to its own tag"),t&&s!=null)throw Error(s);return s==null}toJSON(){return{state:this.state,noteId:this.noteId,tagId:this.tagId}}}class ot extends N{constructor(t="",s=0){super(),y(this,"_id",0),y(this,"_spaceId",0),y(this,"_space",null),y(this,"_name",""),y(this,"_color",null),this._name=t,this._spaceId=s}get id(){return this._id}set id(t){t!==this._id&&(this._id=t,this.isClean&&this.dirty())}get spaceId(){return this._spaceId}get space(){return this._space}set space(t){if(t===null){this._space=null;return}if(t.id!==this.spaceId)throw Error("Attempted to set space on Tag where spaceId doesnt match");this._space=t}get name(){return this._name}set name(t){t!==this._name&&(this._name=t,this.isClean&&this.dirty())}get color(){return this._color}set color(t){t!==this._color&&(this._color=t,this.isClean&&this.dirty())}duplicate(){const t=new ot(this.name,this.spaceId);return t.id=this.id,t.state=this.state,t.color=this.color,t.space=this.space,t}validate(t=!1){let s=null;if(!this.isNew&&this.id<=0?s="Tag id must be greater than zero if in non-new state.":!this.name||!/^[a-zA-Z][a-zA-Z0-9 ]*[a-zA-Z0-9]?$/.test(this.name)?s="Tag name is invalid, must only contain letters, numbers, and spaces, starting with a letter":this.color&&!/^#?[A-z0-9]{6}$/.test(this.color)&&(s="Tag color is invalid, must be a 6 character hexadecimal."),t&&s!=null)throw Error(s);return s==null}getColorInt(){let t=this.color;return t?(t.startsWith("#")&&(t=t.substring(1)),parseInt(t,16)):null}toJSON(){return{state:this.state,id:this.id,name:this.name,spaceId:this.spaceId,color:this.color}}}class zt extends N{constructor(t){super(),y(this,"_id",0),y(this,"_date",new Date),y(this,"_text",""),y(this,"_archived",!1),y(this,"_spaceId",0),y(this,"_space",null),y(this,"_ownTag",null),y(this,"_tags",[]),y(this,"_attrs",[]),t&&(this.text=t)}get id(){return this._id}set id(t){this._id=t,this.ownTag&&(this.ownTag.id=t)}get date(){return this._date}set date(t){t!==this._date&&(this._date=t,this.isClean&&this.dirty())}at(t){return this.date=t,this}get text(){return this._text}set text(t){t!==this._text&&(this._text=t,this.isClean&&this.dirty())}get archived(){return this._archived}set archived(t){t!==this._archived&&(this._archived=t,this.isClean&&this.dirty())}get spaceId(){return this._spaceId}set spaceId(t){var s;t!==this._spaceId&&(this._spaceId=t,t!==((s=this.space)==null?void 0:s.id)&&(this._space=null),this.isClean&&this.dirty())}get space(){return this._space}set space(t){this._space=t,this.spaceId=(t==null?void 0:t.id)??0}in(t){return typeof t=="number"?this.spaceId=t:this.space=t,this}get ownTag(){return this._ownTag}setOwnTag(t){if(typeof t=="string")this.ownTag==null&&(this._ownTag=new ot),this.ownTag.name=t,this.ownTag.id=this.id;else{if(this.ownTag)throw new Error("Note has already had its tag set. If you would like to change the tag name, call setTag with just a string specifying the new tag name.");if(t.id!=0&&t.id!=this.id)throw new Error("Attempted to set tag to note with non-matching ID. Added tag id must either match the note id, which indicates that the tag has already been added to the note. Otherwise the tag id must be zero, indicating that the tag still needs to be added.");this._ownTag=t}return this}removeOwnTag(){this.ownTag&&(this.ownTag.isNew?this._ownTag=null:this.ownTag.delete())}get tags(){return this._tags}addTag(t){if(t.isDeleted)throw Error("Cannot add a tag marked as deleted to a note");if(t.isNew)throw Error("Cannot add a tag that hasn't yet been saved to a note");if(t.id==this.id)throw Error("Note cannot add its own tag as a linked tag");let s=this.tags.find(r=>r.tagId==t.id);return s?(s.isDeleted&&s.dirty(),s):(s=new it,s.note=this,s.tag=t,this._tags.push(s),s)}removeTag(t){const s=this.tags.find(r=>r.tagId==t.id);return s?(s.isNew?this._tags=this._tags.filter(r=>r!==s):s.delete(),this):this}get attrs(){return this._attrs}addAttr(t){if(t.isDeleted)throw Error("Cannot add an attribute marked as deleted to a note");if(t.isNew)throw Error("Cannot add an attribute that hasn't yet been saved to a note");let s=this.attrs.find(r=>r.attrId==t.id);return s?(s.isDeleted&&s.dirty(),s):(s=new nt,s.note=this,s.attr=t,this._attrs.push(s),s)}removeAttr(t){const s=this.attrs.find(r=>r.attrId==t.id);return s?(s.isNew?this._attrs=this._attrs.filter(r=>r!==s):s.delete(),this):this}duplicate(){const t=new zt;return t.id=this.id,t.date=this.date,t.text=this.text,t.archived=this.archived,t.space=this.space,t.state=this.state,t}toJSON(){return{state:this.state,id:this.id,date:this.date,text:this.text,archived:this.archived,spaceId:this.spaceId,ownTag:this.ownTag,tags:this.tags,attrs:this.attrs}}validate(t=!1){let s=null;if(this.spaceId<=0?s="Note spaceId must be greater than zero.":!this.isNew&&this.id<=0&&(s="Note id must be greater than zero if in non-new state."),t&&s!=null)throw Error(s);if(this.ownTag&&!this.ownTag.validate(t))return!1;for(const r of this.tags)if(!r.validate(t))return!1;for(const r of this.attrs)if(!r.validate(t))return!1;return s==null}}class vt extends N{constructor(t=""){super(),y(this,"id",0),y(this,"_name",""),this._name=t}get name(){return this._name}set name(t){t!==this._name&&(this._name=t,this.isClean&&this.dirty())}duplicate(){const t=new vt;return t.id=this.id,t.name=this.name,t.state=this.state,t}validate(t=!1){let s=null;if(!this.isNew&&this.id<=0&&(s="Space id must be greater than zero if in non-new state."),t&&s!=null)throw Error(s);return s==null}toJSON(){return{state:this.state,id:this.id,name:this.name}}}export{wt as A,zt as N,vt as S,ot as T,it as a};
