var Mt=Object.defineProperty,qt=(e,t,r)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g=(e,t,r)=>(qt(e,typeof t!="symbol"?t+"":t,r),r);class A{constructor(){g(this,"state","NEW")}new(){return this.state="NEW",this}clean(){return this.state="CLEAN",this}dirty(){return this.state="DIRTY",this}delete(){return this.state="DELETED",this}get isNew(){return this.state=="NEW"}get isClean(){return this.state=="CLEAN"}get isDirty(){return this.state=="DIRTY"}get isDeleted(){return this.state=="DELETED"}validate(t=!1){return!0}}class G extends A{constructor(t){super(),g(this,"id",0),g(this,"_name",""),g(this,"_type","TEXT"),g(this,"_spaceId",0),g(this,"_space",null),t&&(this.name=t)}get name(){return this._name}set name(t){t!==this._name&&(this._name=t,this.isClean&&this.dirty())}get type(){return this._type}set type(t){if(!this.isNew)throw Error("Cannot change an attribute's type once it has been created.");this._type=t}get isText(){return this.type=="TEXT"}get isNumber(){return this.type=="NUMBER"}get isBoolean(){return this.type=="BOOLEAN"}get isDate(){return this.type=="DATE"}asText(){return this.type="TEXT",this}asNumber(){return this.type="NUMBER",this}asBoolean(){return this.type="BOOLEAN",this}asDate(){return this.type="DATE",this}get spaceId(){return this._spaceId}set spaceId(t){var r;t!==this._spaceId&&(this._spaceId=t,t!==((r=this.space)==null?void 0:r.id)&&(this._space=null),this.isClean&&this.dirty())}get space(){return this._space}set space(t){this._space=t,this.spaceId=(t==null?void 0:t.id)??0}in(t){return typeof t=="number"?this.spaceId=t:this.space=t,this}duplicate(){const t=new G;return t.id=this.id,t.name=this.name,t.type=this.type,t.space=this.space,t}validate(t=!1){let r=null;if(this.spaceId<=0?r="Note spaceId must be greater than zero.":!this.isNew&&this.id<=0&&(r="Attr id must be greater than zero if in non-new state."),t&&r!=null)throw Error(r);return r==null}get defaultValue(){switch(this.type){case"TEXT":return"";case"NUMBER":return 0;case"BOOLEAN":return!1;case"DATE":return new Date}}toJSON(){return{state:this.state,id:this.id,name:this.name,type:this.type,spaceId:this.spaceId}}static fromJSON(t){const r=new G(t.name);return r.type=t.id,r.spaceId=t.spaceId,r.id=t.id,r.state=t.state,r}}function _t(e,t){return function(){return e.apply(t,arguments)}}const{toString:jt}=Object.prototype,{getPrototypeOf:nt}=Object,H=(e=>t=>{const r=jt.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),I=e=>(e=e.toLowerCase(),t=>H(t)===e),J=e=>t=>typeof t===e,{isArray:R}=Array,x=J("undefined");function $t(e){return e!==null&&!x(e)&&e.constructor!==null&&!x(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Tt=I("ArrayBuffer");function Vt(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Tt(e.buffer),t}const Wt=J("string"),b=J("function"),It=J("number"),M=e=>e!==null&&typeof e=="object",Kt=e=>e===!0||e===!1,U=e=>{if(H(e)!=="object")return!1;const t=nt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xt=I("Date"),Gt=I("File"),Zt=I("Blob"),Qt=I("FileList"),Yt=e=>M(e)&&b(e.pipe),te=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||b(e.append)&&((t=H(e))==="formdata"||t==="object"&&b(e.toString)&&e.toString()==="[object FormData]"))},ee=I("URLSearchParams"),re=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function B(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),R(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(s=0;s<o;s++)c=i[s],t.call(null,e[c],c,e)}}function Ot(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const St=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nt=e=>!x(e)&&e!==St;function Z(){const{caseless:e}=Nt(this)&&this||{},t={},r=(s,n)=>{const i=e&&Ot(t,n)||n;U(t[i])&&U(s)?t[i]=Z(t[i],s):U(s)?t[i]=Z({},s):R(s)?t[i]=s.slice():t[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&B(arguments[s],r);return t}const se=(e,t,r,{allOwnKeys:s}={})=>(B(t,(n,i)=>{r&&b(n)?e[i]=_t(n,r):e[i]=n},{allOwnKeys:s}),e),ne=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ie=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},oe=(e,t,r,s)=>{let n,i,o;const c={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),i=n.length;i-- >0;)o=n[i],(!s||s(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=r!==!1&&nt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ae=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},ue=e=>{if(!e)return null;if(R(e))return e;let t=e.length;if(!It(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nt(Uint8Array)),le=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},de=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},he=I("HTMLFormElement"),pe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),lt=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),fe=I("RegExp"),At=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};B(r,(n,i)=>{let o;(o=t(n,i,e))!==!1&&(s[i]=o||n)}),Object.defineProperties(e,s)},me=e=>{At(e,(t,r)=>{if(b(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(b(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ge=(e,t)=>{const r={},s=n=>{n.forEach(i=>{r[i]=!0})};return R(e)?s(e):s(String(e).split(t)),r},ye=()=>{},we=(e,t)=>(e=+e,Number.isFinite(e)?e:t),V="abcdefghijklmnopqrstuvwxyz",dt="0123456789",Rt={DIGIT:dt,ALPHA:V,ALPHA_DIGIT:V+V.toUpperCase()+dt},Ee=(e=16,t=Rt.ALPHA_DIGIT)=>{let r="";const{length:s}=t;for(;e--;)r+=t[Math.random()*s|0];return r};function be(e){return!!(e&&b(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const _e=e=>{const t=new Array(10),r=(s,n)=>{if(M(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[n]=s;const i=R(s)?[]:{};return B(s,(o,c)=>{const p=r(o,n+1);!x(p)&&(i[c]=p)}),t[n]=void 0,i}}return s};return r(e,0)},Te=I("AsyncFunction"),Ie=e=>e&&(M(e)||b(e))&&b(e.then)&&b(e.catch),a={isArray:R,isArrayBuffer:Tt,isBuffer:$t,isFormData:te,isArrayBufferView:Vt,isString:Wt,isNumber:It,isBoolean:Kt,isObject:M,isPlainObject:U,isUndefined:x,isDate:Xt,isFile:Gt,isBlob:Zt,isRegExp:fe,isFunction:b,isStream:Yt,isURLSearchParams:ee,isTypedArray:ce,isFileList:Qt,forEach:B,merge:Z,extend:se,trim:re,stripBOM:ne,inherits:ie,toFlatObject:oe,kindOf:H,kindOfTest:I,endsWith:ae,toArray:ue,forEachEntry:le,matchAll:de,isHTMLForm:he,hasOwnProperty:lt,hasOwnProp:lt,reduceDescriptors:At,freezeMethods:me,toObjectSet:ge,toCamelCase:pe,noop:ye,toFiniteNumber:we,findKey:Ot,global:St,isContextDefined:Nt,ALPHABET:Rt,generateString:Ee,isSpecCompliantForm:be,toJSONObject:_e,isAsyncFn:Te,isThenable:Ie};function m(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n)}a.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ct=m.prototype,xt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xt[e]={value:e}});Object.defineProperties(m,xt);Object.defineProperty(Ct,"isAxiosError",{value:!0});m.from=(e,t,r,s,n,i)=>{const o=Object.create(Ct);return a.toFlatObject(e,o,function(c){return c!==Error.prototype},c=>c!=="isAxiosError"),m.call(o,e.message,t,r,s,n),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Oe=null;function Q(e){return a.isPlainObject(e)||a.isArray(e)}function Pt(e){return a.endsWith(e,"[]")?e.slice(0,-2):e}function ht(e,t,r){return e?e.concat(t).map(function(s,n){return s=Pt(s),!r&&n?"["+s+"]":s}).join(r?".":""):t}function Se(e){return a.isArray(e)&&!e.some(Q)}const Ne=a.toFlatObject(a,{},null,function(e){return/^is[A-Z]/.test(e)});function q(e,t,r){if(!a.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=a.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,d){return!a.isUndefined(d[h])});const s=r.metaTokens,n=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(t);if(!a.isFunction(n))throw new TypeError("visitor must be a function");function p(h){if(h===null)return"";if(a.isDate(h))return h.toISOString();if(!c&&a.isBlob(h))throw new m("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(h)||a.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,d,E){let _=h;if(h&&!E&&typeof h=="object"){if(a.endsWith(d,"{}"))d=s?d:d.slice(0,-2),h=JSON.stringify(h);else if(a.isArray(h)&&Se(h)||(a.isFileList(h)||a.endsWith(d,"[]"))&&(_=a.toArray(h)))return d=Pt(d),_.forEach(function($,Jt){!(a.isUndefined($)||$===null)&&t.append(o===!0?ht([d],Jt,i):o===null?d:d+"[]",p($))}),!1}return Q(h)?!0:(t.append(ht(E,d,i),p(h)),!1)}const l=[],f=Object.assign(Ne,{defaultVisitor:u,convertValue:p,isVisitable:Q});function w(h,d){if(!a.isUndefined(h)){if(l.indexOf(h)!==-1)throw Error("Circular reference detected in "+d.join("."));l.push(h),a.forEach(h,function(E,_){(!(a.isUndefined(E)||E===null)&&n.call(t,E,a.isString(_)?_.trim():_,d,f))===!0&&w(E,d?d.concat(_):[_])}),l.pop()}}if(!a.isObject(e))throw new TypeError("data must be an object");return w(e),t}function pt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function it(e,t){this._pairs=[],e&&q(e,this,t)}const Dt=it.prototype;Dt.append=function(e,t){this._pairs.push([e,t])};Dt.toString=function(e){const t=e?function(r){return e.call(this,r,pt)}:pt;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ft(e,t,r){if(!t)return e;const s=r&&r.encode||Ae,n=r&&r.serialize;let i;if(n?i=n(t,r):i=a.isURLSearchParams(t)?t.toString():new it(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Re{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){a.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ft=Re,Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ce=typeof URLSearchParams<"u"?URLSearchParams:it,xe=typeof FormData<"u"?FormData:null,Pe=typeof Blob<"u"?Blob:null,De=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Fe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",T={isBrowser:!0,classes:{URLSearchParams:Ce,FormData:xe,Blob:Pe},isStandardBrowserEnv:De,isStandardBrowserWebWorkerEnv:Fe,protocols:["http","https","file","blob","url","data"]};function Be(e,t){return q(e,new T.classes.URLSearchParams,Object.assign({visitor:function(r,s,n,i){return T.isNode&&a.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Le(e){return a.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ue(e){const t={},r=Object.keys(e);let s;const n=r.length;let i;for(s=0;s<n;s++)i=r[s],t[i]=e[i];return t}function Lt(e){function t(r,s,n,i){let o=r[i++];const c=Number.isFinite(+o),p=i>=r.length;return o=!o&&a.isArray(n)?n.length:o,p?(a.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!c):((!n[o]||!a.isObject(n[o]))&&(n[o]=[]),t(r,s,n[o],i)&&a.isArray(n[o])&&(n[o]=Ue(n[o])),!c)}if(a.isFormData(e)&&a.isFunction(e.entries)){const r={};return a.forEachEntry(e,(s,n)=>{t(Le(s),n,r,0)}),r}return null}function ke(e,t,r){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const ot={transitional:Bt,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,n=a.isObject(e);if(n&&a.isHTMLForm(e)&&(e=new FormData(e)),a.isFormData(e))return s&&s?JSON.stringify(Lt(e)):e;if(a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Be(e,this.formSerializer).toString();if((i=a.isFileList(e))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return q(i?{"files[]":e}:e,o&&new o,this.formSerializer)}}return n||s?(t.setContentType("application/json",!1),ke(e)):e}],transformResponse:[function(e){const t=this.transitional||ot.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&a.isString(e)&&(r&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(i){if(n)throw i.name==="SyntaxError"?m.from(i,m.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],e=>{ot.headers[e]={}});const at=ot,ze=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ve=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),s=i.substring(n+1).trim(),!(!r||t[r]&&ze[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},mt=Symbol("internals");function C(e){return e&&String(e).trim().toLowerCase()}function k(e){return e===!1||e==null?e:a.isArray(e)?e.map(k):String(e)}function He(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Je=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function W(e,t,r,s,n){if(a.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!a.isString(t)){if(a.isString(s))return t.indexOf(s)!==-1;if(a.isRegExp(s))return s.test(t)}}function Me(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function qe(e,t){const r=a.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,i,o){return this[s].call(this,t,n,i,o)},configurable:!0})})}class j{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function i(c,p,u){const l=C(p);if(!l)throw new Error("header name must be a non-empty string");const f=a.findKey(n,l);(!f||n[f]===void 0||u===!0||u===void 0&&n[f]!==!1)&&(n[f||p]=k(c))}const o=(c,p)=>a.forEach(c,(u,l)=>i(u,l,p));return a.isPlainObject(t)||t instanceof this.constructor?o(t,r):a.isString(t)&&(t=t.trim())&&!Je(t)?o(ve(t),r):t!=null&&i(r,t,s),this}get(t,r){if(t=C(t),t){const s=a.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return He(n);if(a.isFunction(r))return r.call(this,n,s);if(a.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=C(t),t){const s=a.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||W(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function i(o){if(o=C(o),o){const c=a.findKey(s,o);c&&(!r||W(s,s[c],c,r))&&(delete s[c],n=!0)}}return a.isArray(t)?t.forEach(i):i(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const i=r[s];(!t||W(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const r=this,s={};return a.forEach(this,(n,i)=>{const o=a.findKey(s,i);if(o){r[o]=k(n),delete r[i];return}const c=t?Me(i):String(i).trim();c!==i&&delete r[i],r[c]=k(n),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return a.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&a.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const r=(this[mt]=this[mt]={accessors:{}}).accessors,s=this.prototype;function n(i){const o=C(i);r[o]||(qe(s,i),r[o]=!0)}return a.isArray(t)?t.forEach(n):n(t),this}}j.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(j.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});a.freezeMethods(j);const O=j;function K(e,t){const r=this||at,s=t||r,n=O.from(s.headers);let i=s.data;return a.forEach(e,function(o){i=o.call(r,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Ut(e){return!!(e&&e.__CANCEL__)}function L(e,t,r){m.call(this,e??"canceled",m.ERR_CANCELED,t,r),this.name="CanceledError"}a.inherits(L,m,{__CANCEL__:!0});function je(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new m("Request failed with status code "+r.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const $e=T.isStandardBrowserEnv?function(){return{write:function(e,t,r,s,n,i){const o=[];o.push(e+"="+encodeURIComponent(t)),a.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),a.isString(s)&&o.push("path="+s),a.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ve(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function We(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function kt(e,t){return e&&!Ve(t)?We(e,t):t}const Ke=T.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function s(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=s(window.location.href),function(n){const i=a.isString(n)?s(n):n;return i.protocol===r.protocol&&i.host===r.host}}():function(){return function(){return!0}}();function Xe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ge(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const p=Date.now(),u=s[i];o||(o=p),r[n]=c,s[n]=p;let l=i,f=0;for(;l!==n;)f+=r[l++],l=l%e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),p-o<t)return;const w=u&&p-u;return w?Math.round(f*1e3/w):void 0}}function gt(e,t){let r=0;const s=Ge(50,250);return n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,c=i-r,p=s(c),u=i<=o;r=i;const l={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:p||void 0,estimated:p&&o&&u?(o-i)/p:void 0,event:n};l[t?"download":"upload"]=!0,e(l)}}const Ze=typeof XMLHttpRequest<"u",Qe=Ze&&function(e){return new Promise(function(t,r){let s=e.data;const n=O.from(e.headers).normalize(),i=e.responseType;let o;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}let p;a.isFormData(s)&&(T.isStandardBrowserEnv||T.isStandardBrowserWebWorkerEnv?n.setContentType(!1):n.getContentType(/^\s*multipart\/form-data/)?a.isString(p=n.getContentType())&&n.setContentType(p.replace(/^\s*(multipart\/form-data);+/,"$1")):n.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(e.auth){const h=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(h+":"+d))}const l=kt(e.baseURL,e.url);u.open(e.method.toUpperCase(),Ft(l,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function f(){if(!u)return;const h=O.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),d={data:!i||i==="text"||i==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:e,request:u};je(function(E){t(E),c()},function(E){r(E),c()},d),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(r(new m("Request aborted",m.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new m("Network Error",m.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let h=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||Bt;e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),r(new m(h,d.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,e,u)),u=null},T.isStandardBrowserEnv){const h=(e.withCredentials||Ke(l))&&e.xsrfCookieName&&$e.read(e.xsrfCookieName);h&&n.set(e.xsrfHeaderName,h)}s===void 0&&n.setContentType(null),"setRequestHeader"in u&&a.forEach(n.toJSON(),function(h,d){u.setRequestHeader(d,h)}),a.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),i&&i!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",gt(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",gt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=h=>{u&&(r(!h||h.type?new L(null,e,u):h),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const w=Xe(l);if(w&&T.protocols.indexOf(w)===-1){r(new m("Unsupported protocol "+w+":",m.ERR_BAD_REQUEST,e));return}u.send(s||null)})},Y={http:Oe,xhr:Qe};a.forEach(Y,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yt=e=>`- ${e}`,Ye=e=>a.isFunction(e)||e===null||e===!1,zt={getAdapter:e=>{e=a.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let i=0;i<t;i++){r=e[i];let o;if(s=r,!Ye(r)&&(s=Y[(o=String(r)).toLowerCase()],s===void 0))throw new m(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(yt).join(`
`):" "+yt(i[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Y};function X(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new L(null,e)}function wt(e){return X(e),e.headers=O.from(e.headers),e.data=K.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zt.getAdapter(e.adapter||at.adapter)(e).then(function(t){return X(e),t.data=K.call(e,e.transformResponse,t),t.headers=O.from(t.headers),t},function(t){return Ut(t)||(X(e),t&&t.response&&(t.response.data=K.call(e,e.transformResponse,t.response),t.response.headers=O.from(t.response.headers))),Promise.reject(t)})}const Et=e=>e instanceof O?e.toJSON():e;function N(e,t){t=t||{};const r={};function s(u,l,f){return a.isPlainObject(u)&&a.isPlainObject(l)?a.merge.call({caseless:f},u,l):a.isPlainObject(l)?a.merge({},l):a.isArray(l)?l.slice():l}function n(u,l,f){if(a.isUndefined(l)){if(!a.isUndefined(u))return s(void 0,u,f)}else return s(u,l,f)}function i(u,l){if(!a.isUndefined(l))return s(void 0,l)}function o(u,l){if(a.isUndefined(l)){if(!a.isUndefined(u))return s(void 0,u)}else return s(void 0,l)}function c(u,l,f){if(f in t)return s(u,l);if(f in e)return s(void 0,u)}const p={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,l)=>n(Et(u),Et(l),!0)};return a.forEach(Object.keys(Object.assign({},e,t)),function(u){const l=p[u]||n,f=l(e[u],t[u],u);a.isUndefined(f)&&l!==c||(r[u]=f)}),r}const vt="1.5.1",ut={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ut[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bt={};ut.transitional=function(e,t,r){function s(n,i){return"[Axios v"+vt+"] Transitional option '"+n+"'"+i+(r?". "+r:"")}return(n,i,o)=>{if(e===!1)throw new m(s(i," has been removed"+(t?" in "+t:"")),m.ERR_DEPRECATED);return t&&!bt[i]&&(bt[i]=!0,console.warn(s(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,i,o):!0}};function tr(e,t,r){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const i=s[n],o=t[i];if(o){const c=e[i],p=c===void 0||o(c,i,e);if(p!==!0)throw new m("option "+i+" must be "+p,m.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new m("Unknown option "+i,m.ERR_BAD_OPTION)}}const tt={assertOptions:tr,validators:ut},S=tt.validators;class v{constructor(t){this.defaults=t,this.interceptors={request:new ft,response:new ft}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=N(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:i}=r;s!==void 0&&tt.assertOptions(s,{silentJSONParsing:S.transitional(S.boolean),forcedJSONParsing:S.transitional(S.boolean),clarifyTimeoutError:S.transitional(S.boolean)},!1),n!=null&&(a.isFunction(n)?r.paramsSerializer={serialize:n}:tt.assertOptions(n,{encode:S.function,serialize:S.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&a.merge(i.common,i[r.method]);i&&a.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),r.headers=O.concat(o,i);const c=[];let p=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(r)===!1||(p=p&&d.synchronous,c.unshift(d.fulfilled,d.rejected))});const u=[];this.interceptors.response.forEach(function(d){u.push(d.fulfilled,d.rejected)});let l,f=0,w;if(!p){const d=[wt.bind(this),void 0];for(d.unshift.apply(d,c),d.push.apply(d,u),w=d.length,l=Promise.resolve(r);f<w;)l=l.then(d[f++],d[f++]);return l}w=c.length;let h=r;for(f=0;f<w;){const d=c[f++],E=c[f++];try{h=d(h)}catch(_){E.call(this,_);break}}try{l=wt.call(this,h)}catch(d){return Promise.reject(d)}for(f=0,w=u.length;f<w;)l=l.then(u[f++],u[f++]);return l}getUri(t){t=N(this.defaults,t);const r=kt(t.baseURL,t.url);return Ft(r,t.params,t.paramsSerializer)}}a.forEach(["delete","get","head","options"],function(e){v.prototype[e]=function(t,r){return this.request(N(r||{},{method:e,url:t,data:(r||{}).data}))}});a.forEach(["post","put","patch"],function(e){function t(r){return function(s,n,i){return this.request(N(i||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}v.prototype[e]=t(),v.prototype[e+"Form"]=t(!0)});const z=v;class ct{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(n){r=n});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(c=>{s.subscribe(c),i=c}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},t(function(n,i,o){s.reason||(s.reason=new L(n,i,o),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new ct(function(r){t=r}),cancel:t}}}const er=ct;function rr(e){return function(t){return e.apply(null,t)}}function sr(e){return a.isObject(e)&&e.isAxiosError===!0}const et={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(et).forEach(([e,t])=>{et[t]=e});const nr=et;function Ht(e){const t=new z(e),r=_t(z.prototype.request,t);return a.extend(r,z.prototype,t,{allOwnKeys:!0}),a.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Ht(N(e,s))},r}const y=Ht(at);y.Axios=z;y.CanceledError=L;y.CancelToken=er;y.isCancel=Ut;y.VERSION=vt;y.toFormData=q;y.AxiosError=m;y.Cancel=y.CanceledError;y.all=function(e){return Promise.all(e)};y.spread=rr;y.isAxiosError=sr;y.mergeConfig=N;y.AxiosHeaders=O;y.formToJSON=e=>Lt(a.isHTMLForm(e)?new FormData(e):e);y.getAdapter=zt.getAdapter;y.HttpStatusCode=nr;y.default=y;class P extends A{constructor(t,r,s){super(),g(this,"_noteId",0),g(this,"_note",null),g(this,"_attrId",0),g(this,"_attr",null),g(this,"_value",null),g(this,"_tagId",null),g(this,"_tag",null),t!=null&&t!=null&&(typeof t=="number"?this.noteId=t:this.note=t),r!=null&&r!=null&&(typeof r=="number"?this.attrId=r:this.attr=r),s!=null&&s!=null&&(this.value=s)}get noteId(){return this._noteId}set noteId(t){var r;t!==this._noteId&&(this._noteId=t,t!==((r=this.note)==null?void 0:r.id)&&(this._note=null),this.isClean&&this.dirty())}get note(){return this._note}set note(t){this._note=t,this.noteId=(t==null?void 0:t.id)??0}get attrId(){return this._attrId}set attrId(t){var r;t!==this._attrId&&(this._attrId=t,t!==((r=this.attr)==null?void 0:r.id)&&(this._attr=null),this.isClean&&this.dirty())}get attr(){return this._attr}set attr(t){const r=this._attr;this._attr=t,t?(!r||t.type!=r.type)&&(this.value=t.defaultValue):this.value=null,this.attrId=(t==null?void 0:t.id)??0}get value(){return this._value}set value(t){t!=this._value&&(this._value=t,this.isClean&&this.dirty())}withValue(t){return this.value=t,this}get tagId(){return this._tagId}set tagId(t){var r;t!==this._tagId&&(this._tagId=t,t!==((r=this.tag)==null?void 0:r.id)&&(this._tag=null),this.isClean&&this.dirty())}get tag(){return this._tag}set tag(t){this._tag=t,this.tagId=(t==null?void 0:t.id)??null}onTag(t){return typeof t=="number"?this.tagId=t:this.tag=t,this}duplicate(){const t=new P;return t.noteId=this.noteId,t.note=this.note,t.attrId=this.attrId,t.attr=this.attr,t.tagId=this.tagId,t.tag=this.tag,t.value=this.value,t}validate(t=!1){let r=null;if(this.noteId<=0&&!this.isNew?r="NoteAttr noteId must be greater than zero":this.attrId<=0&&(r="NoteAttr attrId must be greater than zero"),t&&r!=null)throw Error(r);return r==null}toJSON(){return{state:this.state,noteId:this.noteId,attrId:this.attrId,tagId:this.tagId,value:this.value}}static fromJSON(t){const r=new P(t.noteId,t.attrId,t.value);return r.tagId=t.tagId,r.state=t.state,r}}class D extends A{constructor(t,r){super(),g(this,"_noteId",0),g(this,"_note",null),g(this,"_tagId",0),g(this,"_tag",null),t!=null&&t!=null&&(typeof t=="number"?this.noteId=t:this.note=t),r!=null&&r!=null&&(typeof r=="number"?this.tagId=r:this.tag=r)}get noteId(){return this._noteId}set noteId(t){var r;t!==this._noteId&&(this._noteId=t,t!==((r=this.note)==null?void 0:r.id)&&(this._note=null),this.isClean&&this.dirty())}get note(){return this._note}set note(t){this._note=t,this.noteId=(t==null?void 0:t.id)??0}get tagId(){return this._tagId}set tagId(t){var r;t!==this._tagId&&(this._tagId=t,t!==((r=this.tag)==null?void 0:r.id)&&(this._tag=null),this.isClean&&this.dirty())}get tag(){return this._tag}set tag(t){this._tag=t,this.tagId=(t==null?void 0:t.id)??0}get attrs(){return this.note.attrs.filter(t=>t.tagId==this.tagId)}addAttr(t){if(!this.note)throw new Error("Cannot call addAttr on NoteTag where note property has not been set");const r=this.note.addAttr(t);return r.tag=this.tag,r}duplicate(){const t=new D;return t.noteId=this.noteId,t.tagId=this.tagId,t}validate(t=!1){let r=null;if(this.noteId<=0&&!this.isNew?r="NoteTag noteId must be greater than zero":this.tagId<=0?r="NoteTag tagId must be greater than zero":this.noteId==this.tagId&&(r="NoteTag cannot link a note to its own tag"),t&&r!=null)throw Error(r);return r==null}toJSON(){return{state:this.state,noteId:this.noteId,tagId:this.tagId}}static fromJSON(t){const r=new D(t.noteId,t.tagId);return r.state=t.state,r}}class F extends A{constructor(t="",r=0){super(),g(this,"_id",0),g(this,"_spaceId",0),g(this,"_space",null),g(this,"_name",""),g(this,"_color",null),this._name=t,this._spaceId=r}get id(){return this._id}set id(t){t!==this._id&&(this._id=t,this.isClean&&this.dirty())}get spaceId(){return this._spaceId}get space(){return this._space}set space(t){if(t===null){this._space=null;return}if(t.id!==this.spaceId)throw Error("Attempted to set space on Tag where spaceId doesnt match");this._space=t}get name(){return this._name}set name(t){t!==this._name&&(this._name=t,this.isClean&&this.dirty())}get color(){return this._color}set color(t){t!==this._color&&(this._color=t,this.isClean&&this.dirty())}duplicate(){const t=new F(this.name,this.spaceId);return t.id=this.id,t.state=this.state,t.color=this.color,t.space=this.space,t}validate(t=!1){let r=null;if(!this.isNew&&this.id<=0?r="Tag id must be greater than zero if in non-new state.":!this.name||!/^[a-zA-Z][a-zA-Z0-9 ]*[a-zA-Z0-9]?$/.test(this.name)?r="Tag name is invalid, must only contain letters, numbers, and spaces, starting with a letter":this.color&&!/^#?[A-z0-9]{6}$/.test(this.color)&&(r="Tag color is invalid, must be a 6 character hexadecimal."),t&&r!=null)throw Error(r);return r==null}getColorInt(){let t=this.color;return t?(t.startsWith("#")&&(t=t.substring(1)),parseInt(t,16)):null}toJSON(){return{state:this.state,id:this.id,name:this.name,spaceId:this.spaceId,color:this.color}}static fromJSON(t){const r=new F(t.name,t.spaceId);return r.id=t.id,r.color=t.color,r.state=t.state,r}}class rt extends A{constructor(t){super(),g(this,"_id",0),g(this,"_date",new Date),g(this,"_text",""),g(this,"_archived",!1),g(this,"_spaceId",0),g(this,"_space",null),g(this,"_ownTag",null),g(this,"_tags",[]),g(this,"_attrs",[]),t&&(this.text=t)}get id(){return this._id}set id(t){this._id=t,this.ownTag&&(this.ownTag.id=t)}get date(){return this._date}set date(t){t!==this._date&&(this._date=t,this.isClean&&this.dirty())}at(t){return this.date=t,this}get text(){return this._text}set text(t){t!==this._text&&(this._text=t,this.isClean&&this.dirty())}get archived(){return this._archived}set archived(t){t!==this._archived&&(this._archived=t,this.isClean&&this.dirty())}get spaceId(){return this._spaceId}set spaceId(t){var r;t!==this._spaceId&&(this._spaceId=t,t!==((r=this.space)==null?void 0:r.id)&&(this._space=null),this.isClean&&this.dirty())}get space(){return this._space}set space(t){this._space=t,this.spaceId=(t==null?void 0:t.id)??0}in(t){return typeof t=="number"?this.spaceId=t:this.space=t,this}get ownTag(){return this._ownTag}setOwnTag(t){if(typeof t=="string")this.ownTag==null&&(this._ownTag=new F),this.ownTag.name=t,this.ownTag.id=this.id;else{if(this.ownTag)throw new Error("Note has already had its tag set. If you would like to change the tag name, call setTag with just a string specifying the new tag name.");if(t.id!=0&&t.id!=this.id)throw new Error("Attempted to set tag to note with non-matching ID. Added tag id must either match the note id, which indicates that the tag has already been added to the note. Otherwise the tag id must be zero, indicating that the tag still needs to be added.");this._ownTag=t}return this}removeOwnTag(){this.ownTag&&(this.ownTag.isNew?this._ownTag=null:this.ownTag.delete())}get tags(){return this._tags}addTag(t){if(t.isDeleted)throw Error("Cannot add a tag marked as deleted to a note");if(t.isNew)throw Error("Cannot add a tag that hasn't yet been saved to a note");if(t.id==this.id)throw Error("Note cannot add its own tag as a linked tag");let r=this.tags.find(s=>s.tagId==t.id);return r?(r.isDeleted&&r.dirty(),r):(r=new D,r.note=this,r.tag=t,this._tags.push(r),r)}removeTag(t){const r=this.tags.find(s=>s.tagId==t.id);return r?(r.isNew?this._tags=this._tags.filter(s=>s!==r):r.delete(),this):this}get attrs(){return this._attrs}addAttr(t){if(t.isDeleted)throw Error("Cannot add an attribute marked as deleted to a note");if(t.isNew)throw Error("Cannot add an attribute that hasn't yet been saved to a note");let r=this.attrs.find(s=>s.attrId==t.id);return r?(r.isDeleted&&r.dirty(),r):(r=new P,r.note=this,r.attr=t,this._attrs.push(r),r)}removeAttr(t){const r=this.attrs.find(s=>s.attrId==t.id);return r?(r.isNew?this._attrs=this._attrs.filter(s=>s!==r):r.delete(),this):this}duplicate(){const t=new rt;return t.id=this.id,t.date=this.date,t.text=this.text,t.archived=this.archived,t.space=this.space,t.state=this.state,t}toJSON(){return{state:this.state,id:this.id,date:this.date,text:this.text,archived:this.archived,spaceId:this.spaceId,ownTag:this.ownTag,tags:this.tags,attrs:this.attrs}}static fromJSON(t){const r=new rt(t.text);return r.id=t.id,r.date=new Date(t.date),r.archived=t.archived,r.spaceId=t.spaceId,t.ownTag!=null&&r.setOwnTag(F.fromJSON(t.ownTag)),r._tags=t.tags.map(s=>D.fromJSON(s)),r._attrs=t.attrs.map(s=>P.fromJSON(s)),r.state=t.state,r}validate(t=!1){let r=null;if(this.spaceId<=0?r="Note spaceId must be greater than zero.":!this.isNew&&this.id<=0&&(r="Note id must be greater than zero if in non-new state."),t&&r!=null)throw Error(r);if(this.ownTag&&!this.ownTag.validate(t))return!1;for(const s of this.tags)if(!s.validate(t))return!1;for(const s of this.attrs)if(!s.validate(t))return!1;return r==null}}class st extends A{constructor(t=""){super(),g(this,"id",0),g(this,"_name",""),this._name=t}get name(){return this._name}set name(t){t!==this._name&&(this._name=t,this.isClean&&this.dirty())}duplicate(){const t=new st;return t.id=this.id,t.name=this.name,t.state=this.state,t}validate(t=!1){let r=null;if(!this.isNew&&this.id<=0&&(r="Space id must be greater than zero if in non-new state."),t&&r!=null)throw Error(r);return r==null}toJSON(){return{state:this.state,id:this.id,name:this.name}}static fromJSON(t){const r=new st(t.name);return r.id=t.id,r.state=t.state,r}}export{G as A,rt as N,st as S,F as T,D as a};
