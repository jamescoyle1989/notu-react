{"version":3,"file":"NoteAttrEditor-FJ4r0ycL.js","sources":["../../src/NoteAttrEditor.tsx"],"sourcesContent":["import { NoteAttr } from 'notu';\r\nimport { useState } from 'react';\r\nimport style from './NoteAttrEditor.module.css';\r\n\r\ninterface NoteAttrEditorProps {\r\n    noteAttr: NoteAttr,\r\n    contextSpaceId: number,\r\n    onRemove: () => void\r\n}\r\n\r\n\r\nexport const NoteAttrEditor = ({\r\n    noteAttr,\r\n    contextSpaceId,\r\n    onRemove\r\n}: NoteAttrEditorProps) => {\r\n    const [value, setValue] = useState(noteAttr.value);\r\n\r\n    function getAttrName(): string {\r\n        if (noteAttr.attr.spaceId == contextSpaceId)\r\n            return noteAttr.attr.name;\r\n        return `${noteAttr.attr.space.name}.${noteAttr.attr.name}`;\r\n    }\r\n\r\n    function onValueChange(event): void {\r\n        noteAttr.value = event.target.value;\r\n        setValue(noteAttr.value);\r\n    }\r\n\r\n    function onDateChange(event, time): void {\r\n        noteAttr.value = new Date(`${event.target.value} ${time}`);\r\n        setValue(noteAttr.value);\r\n    }\r\n\r\n    function onTimeChange(event, date): void {\r\n        noteAttr.value = new Date(`${date} ${event.target.value}`);\r\n        setValue(noteAttr.value);\r\n    }\r\n\r\n    function onBooleanChange(event): void {\r\n        noteAttr.value = event.target.checked;\r\n        setValue(noteAttr.value);\r\n    }\r\n\r\n    function renderInput() {\r\n        if (noteAttr.attr.isText)\r\n            return (<input type=\"text\" value={noteAttr.value} onChange={onValueChange}/>);\r\n\r\n        if (noteAttr.attr.isDate) {\r\n            const date = noteAttr.value.toISOString().split('T')[0];\r\n            const time = noteAttr.value.toTimeString().split(' ')[0].substring(0, 5);\r\n            return (<div className={style.dateTimeContainer}>\r\n                <input type=\"date\" value={date} onChange={evt => onDateChange(evt, time)}></input>\r\n                <input type=\"time\" value={time} onChange={evt => onTimeChange(evt, date)}></input>\r\n            </div>);\r\n        }\r\n\r\n        if (noteAttr.attr.isNumber)\r\n            return (<input type=\"number\" value={noteAttr.value} onChange={onValueChange}/>);\r\n\r\n        if (noteAttr.attr.isBoolean)\r\n            return (<input type=\"checkbox\" checked={noteAttr.value} onChange={onBooleanChange}/>);\r\n    }\r\n\r\n    return (\r\n        <div className=\"pure-control-group\">\r\n            <label>{getAttrName()}</label>\r\n            {renderInput()}\r\n            <button onClick={onRemove}>X</button>\r\n        </div>\r\n    );\r\n};"],"names":["useState","jsx","jsxs"],"mappings":"gMAWO,eAAA,CAAA,CAAwB,SAC3B,eACA,QAEJ,IAAA,CACI,KAAA,CAAA,MAAA,QAAA,EAAAA,aAAAA,SAAA,SAAA,KAAA,EAEA,SAAA,aAAA,CACI,OAAA,SAAA,KAAA,SAAA,eACI,SAAA,KAAA,KACJ,GAAA,SAAA,KAAA,MAAA,IAAA,IAAA,SAAA,KAAA,IAAA,EAAwD,CAG5D,SAAA,cAAA,MAAA,CACI,SAAA,MAAA,MAAA,OAAA,MACA,SAAA,SAAA,KAAA,CAAuB,CAG3B,SAAA,aAAA,MAAA,KAAA,CACI,SAAA,MAAA,IAAA,KAAA,GAAA,MAAA,OAAA,KAAA,IAAA,IAAA,EAAA,EACA,SAAA,SAAA,KAAA,CAAuB,CAG3B,SAAA,aAAA,MAAA,KAAA,CACI,SAAA,MAAA,IAAA,KAAA,GAAA,IAAA,IAAA,MAAA,OAAA,KAAA,EAAA,EACA,SAAA,SAAA,KAAA,CAAuB,CAG3B,SAAA,gBAAA,MAAA,CACI,SAAA,MAAA,MAAA,OAAA,QACA,SAAA,SAAA,KAAA,CAAuB,CAG3B,SAAA,aAAA,CACI,GAAA,SAAA,KAAA,OACI,OAAAC,sBAAA,QAAA,CAAA,KAAA,OAAA,MAAA,SAAA,MAAA,SAAA,aAAA,CAAA,EAEJ,GAAA,SAAA,KAAA,OAAA,CACI,MAAA,KAAA,SAAA,MAAA,YAAA,EAAA,MAAA,GAAA,EAAA,CAAA,EACA,KAAA,SAAA,MAAA,aAAA,EAAA,MAAA,GAAA,EAAA,CAAA,EAAA,UAAA,EAAA,CAAA,EACA,OAAAC,kBAAAA,KAAA,MAAA,CAAA,UAAA,MAAA,kBAAA,SAAA,CACID,kBAAAA,IAAA,QAAA,CAAA,KAAA,OAAA,MAAA,KAAA,SAAA,KAAA,aAAA,IAAA,IAAA,CAAA,CAAA,EAA0EA,kBAAAA,IAAA,QAAA,CAAA,KAAA,OAAA,MAAA,KAAA,SAAA,KAAA,aAAA,IAAA,IAAA,CAAA,CAAA,CACA,CAAA,CAAA,CAC9E,CAGJ,GAAA,SAAA,KAAA,SACI,OAAAA,sBAAA,QAAA,CAAA,KAAA,SAAA,MAAA,SAAA,MAAA,SAAA,aAAA,CAAA,EAEJ,GAAA,SAAA,KAAA,UACI,OAAAA,sBAAA,QAAA,CAAA,KAAA,WAAA,QAAA,SAAA,MAAA,SAAA,eAAA,CAAA,CAAkF,CAG1F,OAAAC,kBAAA,KAAA,MAAA,CAAA,UAAA,qBAAA,SAAA,CAEQD,kBAAAA,IAAA,QAAA,CAAA,SAAA,YAAA,CAAA,CAAA,EAAsB,YAAA,EACTA,kBAAA,IAAA,SAAA,CAAA,QAAA,SAAA,SAAA,IAAA,CACe,CAAA,CAAA,CAGxC"}