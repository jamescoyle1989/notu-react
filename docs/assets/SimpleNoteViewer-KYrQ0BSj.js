import{j as i,a}from"./jsx-runtime-VmuvLVu_.js";import{a as w}from"./notu-Zi0Mo9zw.js";import{N as d}from"./NoteTagBadge-CiaD47-G.js";import{r as l}from"./index-XiNr8FW2.js";class V{constructor(n,r){this.name=n,this.action=r}}const p=({note:e,contextSpaceId:n,actions:r,isSelected:o})=>{const[c,s]=l.useState(!1);l.useEffect(()=>{o||s(!1)},[o]);const m=`${e.date.toDateString()} ${e.date.getHours().toString().padStart(2,"0")}:${e.date.getMinutes().toString().padStart(2,"0")}`;function u(){s(!c)}function g(t){t(e),s(!1)}function h(){if(e.ownTag){const t=new w(null,e.ownTag);return a(d,{noteTag:t,contextSpaceId:e.spaceId})}}function f(){if((r==null?void 0:r.length)??0>0)return i("div",{className:`dropdown is-right ${c?"is-active":""}`,children:[a("div",{className:"dropdown-trigger",children:a("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:u,children:"•••"})}),a("div",{className:"dropdown-menu",role:"menu",children:a("div",{className:"dropdown-content",children:r.map(t=>a("a",{className:"dropdown-item",onClick:()=>g(t.action),children:t.name},t.name))})})]})}return i("div",{className:`is-flex is-align-items-center ${o?"has-background-light":"has-background-white"}`,children:[i("div",{className:"is-flex-grow-1",children:[a("p",{className:"is-italic has-text-grey",children:m}),a("p",{children:e.text}),i("div",{children:[h(),e.tags.map(t=>a(d,{noteTag:t,contextSpaceId:n},t.tagId))]})]}),f()]})};try{p.displayName="SimpleNoteViewer",p.__docgenInfo={description:"",displayName:"SimpleNoteViewer",props:{note:{defaultValue:null,description:"",name:"note",required:!0,type:{name:"Note"}},contextSpaceId:{defaultValue:null,description:"",name:"contextSpaceId",required:!0,type:{name:"number"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"SimpleNoteViewerAction[]"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!0,type:{name:"boolean"}}}}}catch{}export{p as S,V as a};
