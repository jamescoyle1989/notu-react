{"version":3,"file":"NoteSearch.stories-suH7rZ_q.js","sources":["../../src/NoteSearch.tsx"],"sourcesContent":["import { HttpClient, Note, Space } from 'notu';\r\nimport { useState } from 'react';\r\nimport 'purecss';\r\nimport style from './NoteSearch.module.css';\r\n\r\ninterface NoteSearchProps {\r\n    notuClient: HttpClient,\r\n    space: Space,\r\n    availableSpaces: Array<Space>,\r\n    onFetch: (notes: Array<Note>) => void\r\n}\r\n\r\n\r\nexport const NoteSearch = ({\r\n    notuClient,\r\n    space,\r\n    availableSpaces,\r\n    onFetch\r\n}: NoteSearchProps) => {\r\n\r\n    const [searchText, setSearchText] = useState('');\r\n    const [activeSpace, setActiveSpace] = useState(space);\r\n\r\n    function onSearchTextChange(event): void {\r\n        setSearchText(event.target.value);\r\n    }\r\n\r\n    function onSpaceChange(event): void {\r\n        setActiveSpace(availableSpaces.find(x => x.id == event.target.value));\r\n    }\r\n\r\n    async function onSearchSubmit(): Promise<void> {\r\n        const searchResults = await notuClient.getNotes(searchText, activeSpace.id);\r\n        onFetch(searchResults);\r\n    }\r\n\r\n    function renderSpaceDropdown() {\r\n        if (!availableSpaces) {\r\n            return (\r\n                <select value={activeSpace.id} onChange={onSpaceChange} disabled={true}>\r\n                    <option value={activeSpace.id}>{activeSpace.name}</option>\r\n                </select>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <select value={activeSpace.id} onChange={onSpaceChange}>\r\n                    {availableSpaces.map(x => (<option key={x.id} value={x.id}>{x.name}</option>))}\r\n                </select>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.notesearch_base}>\r\n            {renderSpaceDropdown()}\r\n            <input type=\"text\" className={style.notesearch_text}\r\n                value={searchText} onChange={onSearchTextChange}></input>\r\n\r\n            <button onClick={onSearchSubmit}>Search</button>\r\n        </div>\r\n    );\r\n}"],"names":["useState","jsx","jsxs"],"mappings":"iVAaO,WAAA,CAAA,CAAoB,WACvB,MACA,gBACA,OAEJ,IAAA,CAEI,KAAA,CAAA,WAAA,aAAA,EAAAA,aAAA,SAAA,EAAA,EACA,CAAA,YAAA,cAAA,EAAAA,aAAA,SAAA,KAAA,EAEA,SAAA,mBAAA,MAAA,CACI,cAAA,MAAA,OAAA,KAAA,CAAgC,CAGpC,SAAA,cAAA,MAAA,CACI,eAAA,gBAAA,KAAA,GAAA,EAAA,IAAA,MAAA,OAAA,KAAA,CAAA,CAAoE,CAGxE,eAAA,gBAAA,CACI,MAAA,cAAA,MAAA,WAAA,SAAA,WAAA,YAAA,EAAA,EACA,QAAA,aAAA,CAAqB,CAGzB,SAAA,qBAAA,CACI,OAAA,gBAQIC,sBAAA,SAAA,CAAA,MAAA,YAAA,GAAA,SAAA,cAAA,SAAA,gBAAA,IAAA,GAAAA,sBAAA,SAAA,CAAA,MAAA,EAAA,GAAA,SAAA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA,CAAA,CAAA,EAPAA,kBAAA,IAAA,SAAA,CAAA,MAAA,YAAA,GAAA,SAAA,cAAA,SAAA,GAAA,SAAAA,kBAAAA,IAAA,SAAA,CAAA,MAAA,YAAA,GAAA,SAAA,YAAA,KAAA,CAAA,CAAA,CAYJ,CAGJ,OAAAC,kBAAAA,KAAA,MAAA,CAAA,UAAA,MAAA,gBAAA,SAAA,CAES,oBAAA,EAAoBD,kBAAA,IACrB,QAAC,CAAA,KAAA,OAAW,UAAA,MAAA,gBAAwB,MAAA,WACzB,SAAA,kBAAsB,CAAA,EAAoBA,kBAAA,IAAA,SAAA,CAAA,QAAA,eAAA,SAAA,SAAA,CAEd,CAAA,CAAA,CAGnD;;;;;;;;;;;;;;"}