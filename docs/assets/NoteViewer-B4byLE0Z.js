import{j as i,a}from"./jsx-runtime-VmuvLVu_.js";import{b as A}from"./notu-B7rita-q.js";import{N as c}from"./NoteTagBadge-AUqrHrt_.js";/* empty css              */import{r as l}from"./index-XiNr8FW2.js";import{N as S}from"./NoteAttrBadge-2pOiyd8Z.js";class x{constructor(n,r){this.name=n,this.action=r}}const u=({note:t,contextSpaceId:n,actions:r,isSelected:o,showDate:m=!0})=>{const[d,s]=l.useState(!1);l.useEffect(()=>{o||s(!1)},[o]);const p=`${t.date.toDateString()} ${t.date.getHours().toString().padStart(2,"0")}:${t.date.getMinutes().toString().padStart(2,"0")}`;function g(){s(!d)}function f(e){e(t),s(!1)}function h(){if(m)return a("p",{className:"is-italic has-text-grey",children:p})}function w(){if(t.ownTag){const e=new A(null,t.ownTag);return a(c,{noteTag:e,contextSpaceId:t.spaceId,showAttrs:!0})}}function N(){if((r==null?void 0:r.length)??0>0)return i("div",{className:`dropdown is-right ${d?"is-active":""}`,children:[a("div",{className:"dropdown-trigger",children:a("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:g,children:"•••"})}),a("div",{className:"dropdown-menu",role:"menu",children:a("div",{className:"dropdown-content",children:r.map(e=>a("a",{className:"dropdown-item",onClick:()=>f(e.action),children:e.name},e.name))})})]})}return i("div",{className:`is-flex is-align-items-center ${o?"has-background-light":"has-background-white"}`,children:[i("div",{className:"is-flex-grow-1",children:[h(),a("p",{children:t.text}),i("div",{children:[w(),t.tags.map(e=>a(c,{noteTag:e,contextSpaceId:n,showAttrs:!0},e.tagId)),t.attrs.filter(e=>!e.isDeleted&&!e.tag).map(e=>a(S,{noteAttr:e,contextSpaceId:n},e.attrId))]})]}),N()]})};try{u.displayName="NoteViewer",u.__docgenInfo={description:"",displayName:"NoteViewer",props:{note:{defaultValue:null,description:"",name:"note",required:!0,type:{name:"Note"}},contextSpaceId:{defaultValue:null,description:"",name:"contextSpaceId",required:!0,type:{name:"number"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"NoteViewerAction[]"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!0,type:{name:"boolean"}},showDate:{defaultValue:{value:"true"},description:"",name:"showDate",required:!1,type:{name:"boolean"}}}}}catch{}export{x as N,u as a};
