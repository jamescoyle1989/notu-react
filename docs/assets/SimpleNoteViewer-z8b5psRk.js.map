{"version":3,"file":"SimpleNoteViewer-z8b5psRk.js","sources":["../../src/SimpleNoteViewer.tsx"],"sourcesContent":["import { Note, NoteTag } from 'notu';\r\nimport { NoteTagBadge } from './NoteTagBadge';\r\nimport 'purecss';\r\nimport style from './SimpleNoteViewer.module.css';\r\nimport { useState } from 'react';\r\n\r\ninterface SimpleNoteViewerProps {\r\n    note: Note,\r\n    contextSpaceId: number,\r\n    actions: Array<SimpleNoteViewerAction>\r\n}\r\n\r\n\r\nexport class SimpleNoteViewerAction {\r\n    name: string;\r\n    action: (note: Note) => void;\r\n\r\n    public constructor(name: string, action: (note: Note) => void) {\r\n        this.name = name;\r\n        this.action = action;\r\n    }\r\n}\r\n\r\n\r\nexport const SimpleNoteViewer = ({\r\n    note,\r\n    contextSpaceId,\r\n    actions\r\n}: SimpleNoteViewerProps) => {\r\n    const [showActions, setShowActions] = useState(false);\r\n\r\n    const dateTimeString = `${note.date.toDateString()} ${note.date.getHours().toString().padStart(2, '0')}:${note.date.getMinutes().toString().padStart(2, '0')}`;\r\n\r\n    function toggleShowActions() {\r\n        setShowActions(!showActions);\r\n    }\r\n\r\n    function callAction(action: (note: Note) => void) {\r\n        action(note);\r\n        setShowActions(false);\r\n    }\r\n\r\n    function renderOwnTag() {\r\n        if (!!note.ownTag) {\r\n            const noteTag = new NoteTag(null, note.ownTag);\r\n            return (<NoteTagBadge noteTag={noteTag} contextSpaceId={note.spaceId}></NoteTagBadge>)\r\n        }\r\n    }\r\n\r\n    function renderActions() {\r\n        if (actions?.length ?? 0 > 0) {\r\n            return (\r\n                <div className={style.actions_container}>\r\n                    <button className={style.actions_button} onClick={toggleShowActions}>•••</button>\r\n                    <div className={`${showActions ? style.actions_dropdown_display : style.actions_dropdown_hidden}`}>\r\n                        {actions.map(x => (\r\n                            <span key={x.name} onClick={() => callAction(x.action)}>{x.name}</span>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.note_container}>\r\n            <div className={style.note_body}>\r\n                <p className={style.date}>{dateTimeString}</p>\r\n\r\n                <p>{note.text}</p>\r\n\r\n                <div>\r\n                    {renderOwnTag()}\r\n\r\n                    {note.tags.map(nt => (\r\n                        <NoteTagBadge key={nt.tagId} noteTag={nt} contextSpaceId={contextSpaceId}></NoteTagBadge>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {renderActions()}\r\n        </div>\r\n    );\r\n}"],"names":["useState","jsx","jsxs"],"mappings":"u5BAaO,MAAA,sBAAA,CAEH,YAAA,KAAA,OAAA,CAFgC,2BAChC,6BAII,KAAA,KAAA,KACA,KAAA,OAAA,MAAc,CAEtB,CAGO,MAAA,iBAAA,CAAA,CAA0B,KAC7B,eACA,OAEJ,IAAA,CACI,KAAA,CAAA,YAAA,cAAA,EAAAA,aAAA,SAAA,EAAA,EAEA,eAAA,GAAA,KAAA,KAAA,aAAA,CAAA,IAAA,KAAA,KAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,GAAA,CAAA,IAAA,KAAA,KAAA,WAAA,EAAA,SAAA,EAAA,SAAA,EAAA,GAAA,CAAA,GAEA,SAAA,mBAAA,CACI,eAAA,CAAA,WAAA,CAA2B,CAG/B,SAAA,WAAA,OAAA,CACI,OAAA,IAAA,EACA,eAAA,EAAA,CAAoB,CAGxB,SAAA,cAAA,CACI,GAAA,KAAA,OAAA,CACI,MAAA,QAAA,IAAA,QAAA,KAAA,KAAA,MAAA,EACA,OAAAC,kBAAAA,IAAA,aAAA,CAAA,QAAA,eAAA,KAAA,OAAA,CAAA,CAAsE,CAC1E,CAGJ,SAAA,eAAA,CACI,IAAA,6BAAA,SAAA,EAAA,EACI,OAAAC,kBAAAA,KAAA,MAAA,CAAA,UAAA,MAAA,kBAAA,SAAA,CAEQD,sBAAA,SAAA,CAAA,UAAA,MAAA,eAAA,QAAA,kBAAA,SAAA,MAAA,EAAwEA,kBAAAA,IAAA,MAAA,CAAA,UAAA,GAAA,YAAA,MAAA,yBAAA,MAAA,uBAAA,GAAA,SAAA,QAAA,IAAA,GAAAA,kBAAA,IAAA,OAAA,CAAA,QAAA,IAAA,WAAA,EAAA,MAAA,EAAA,SAAA,EAAA,IAAA,EAAA,EAAA,IAAA,CAAA,CAAA,CAAA,CAKxE,CAAA,CAAA,CAGZ,CAGJ,OAAAC,kBAAAA,KAAA,MAAA,CAAA,UAAA,MAAA,eAAA,SAAA,CAEQA,kBAAA,KAAA,MAAA,CAAA,UAAA,MAAA,UAAA,SAAA,CACID,kBAAA,IAAA,IAAA,CAAA,UAAA,MAAA,KAAA,SAAA,eAAA,EAA0CA,kBAAAA,IAAA,IAAA,CAAA,SAAA,KAAA,IAAA,CAAA,EAE5BC,uBAAA,MAAA,CAAA,SAAA,CAGT,aAAA,EAAa,KAAA,KAAA,IAAA,IAAAD,kBAAAA,IAAA,aAAA,CAAA,QAAA,GAAA,cAAA,EAAA,GAAA,KAAA,CAAA,CAIb,EAAA,CACL,EAAA,EACJ,cAAA,CAEe,CAAA,CAAA,CAG3B"}