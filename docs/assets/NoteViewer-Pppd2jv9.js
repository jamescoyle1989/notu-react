import{j as n,a}from"./jsx-runtime-VmuvLVu_.js";import{d as N}from"./StoryHelpers-Nro3gCTf.js";import{N as c}from"./NoteTagBadge-IT_LJgyr.js";/* empty css              */import{r as d}from"./index-XiNr8FW2.js";import{N as S}from"./NoteAttrBadge-IjAUFas1.js";class _{constructor(r,i){this.name=r,this.action=i}}const l=({note:e,actions:r,isSelected:i,showDate:u=!0})=>{const[s,o]=d.useState(!1);d.useEffect(()=>{i||o(!1)},[i]);const p=`${e.date.toDateString()} ${e.date.getHours().toString().padStart(2,"0")}:${e.date.getMinutes().toString().padStart(2,"0")}`;function m(){o(!s)}function g(t){t(e),o(!1)}function h(){if(u)return a("p",{className:"is-italic has-text-grey",children:p})}function f(){if(e.ownTag){const t=new N(e.ownTag.duplicate().clean());return a(c,{noteTag:t,contextSpaceId:e.space.id,showAttrs:!0})}}function w(){if((r==null?void 0:r.length)??0>0)return n("div",{className:`dropdown is-right ${s?"is-active":""}`,children:[a("div",{className:"dropdown-trigger",children:a("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:m,children:"•••"})}),a("div",{className:"dropdown-menu",role:"menu",children:a("div",{className:"dropdown-content",children:r.map(t=>a("a",{className:"dropdown-item",onClick:()=>g(t.action),children:t.name},t.name))})})]})}return n("div",{className:`is-flex is-align-items-center ${i?"has-background-light":"has-background-white"}`,children:[n("div",{className:"is-flex-grow-1",children:[h(),a("p",{children:e.text}),n("div",{children:[f(),e.tags.map(t=>a(c,{noteTag:t,contextSpaceId:e.space.id,showAttrs:!0},t.tag.id)),e.attrs.map(t=>a(S,{noteAttr:t,contextSpaceId:e.space.id},t.attr.id))]})]}),w()]})};try{l.displayName="NoteViewer",l.__docgenInfo={description:"",displayName:"NoteViewer",props:{note:{defaultValue:null,description:"",name:"note",required:!0,type:{name:"Note"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"NoteViewerAction[]"}},isSelected:{defaultValue:null,description:"",name:"isSelected",required:!0,type:{name:"boolean"}},showDate:{defaultValue:{value:"true"},description:"",name:"showDate",required:!1,type:{name:"boolean"}}}}}catch{}export{_ as N,l as a};
