import{a as i,j as G}from"./jsx-runtime-VmuvLVu_.js";import{R as v,r as q}from"./index-XiNr8FW2.js";import{a as H}from"./NoteViewer-5b3C1m_P.js";const u=v.forwardRef(({notes:s,actionsGenerator:t,groupBy:n=null,groups:a=null,groupHeader:l=null,noteViewer:d=null},b)=>{const[c,m]=q.useState(null);function h(e){const r=new Map;if(!n)r.set(null,e);else{if(a)for(const o of a(e))r.set(o,[]);else for(const o of e)r.set(n(o),[]);for(const o of e){const w=n(o);let f=r.get(w);f!=null&&f.push(o)}}return r}function N(e){return n?Array.from(e.keys()).sort((r,o)=>r-o):Array.from(e.keys())}function _(e,r){return G("div",{children:[g(e,r),V(r)]},e)}function g(e,r){if(!(!n||!l))return i("h2",{className:"title is-4 is-underlined mb-1 mt-3",children:l(e,r)})}function y(e){return d?d(e,t(e),c===e):i(H,{note:e,actions:t(e),isSelected:c===e})}function V(e){return i("div",{children:e.map(r=>i("div",{onClick:()=>m(r),children:y(r)},r.id))})}const p=h(s);return i("div",{children:N(p).map(e=>_(e,p.get(e)))})});class L{constructor(t,n){this._noteViewer=null,this._actionsGenerator=t,this._groupBy=n}withNoteViewer(t){return this._noteViewer=t,this}withExplicitGroups(t){return this._groups=t,this}withHeaders(t){return this._groupHeader=t,this}render(t){return i(u,{notes:t,actionsGenerator:this._actionsGenerator,noteViewer:this._noteViewer,groupBy:this._groupBy,groups:this._groups,groupHeader:this._groupHeader})}}try{u.displayName="GroupedNoteList",u.__docgenInfo={description:"",displayName:"GroupedNoteList",props:{notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"Note[]"}},actionsGenerator:{defaultValue:null,description:"",name:"actionsGenerator",required:!0,type:{name:"(note: Note) => NoteViewerAction[]"}},groupBy:{defaultValue:{value:"null"},description:"",name:"groupBy",required:!1,type:{name:"(note: Note) => number"}},groups:{defaultValue:{value:"null"},description:"",name:"groups",required:!1,type:{name:"(notes: Note[]) => number[]"}},groupHeader:{defaultValue:{value:"null"},description:"",name:"groupHeader",required:!1,type:{name:"(key: number, notes: Note[]) => string"}},noteViewer:{defaultValue:{value:"null"},description:"",name:"noteViewer",required:!1,type:{name:"(note: Note, actions: NoteViewerAction[], isSelected: boolean) => Element"}}}}}catch{}export{u as G,L as P};
