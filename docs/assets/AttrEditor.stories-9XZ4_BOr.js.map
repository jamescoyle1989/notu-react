{"version":3,"file":"AttrEditor.stories-9XZ4_BOr.js","sources":["../../src/AttrEditor.tsx"],"sourcesContent":["import { Attr, Space } from 'notu';\r\nimport { useState } from 'react';\r\nimport 'purecss';\r\nimport styles from './AttrEditor.module.css';\r\n\r\ninterface AttrEditorProps {\r\n    attr: Attr,\r\n    spaces: Array<Space>,\r\n    onConfirm: () => string\r\n}\r\n\r\n\r\nexport const AttrEditor = ({\r\n    attr,\r\n    spaces,\r\n    onConfirm\r\n}: AttrEditorProps) => {\r\n    const [spaceId, setSpaceId] = useState(attr.spaceId);\r\n    const [name, setName] = useState(attr.name);\r\n    const [type, setType] = useState(attr.type);\r\n    const [error, setError] = useState(null);\r\n\r\n    function onSpaceIdChange(event): void {\r\n        setSpaceId(event.target.value);\r\n        attr.space = spaces.find(x => x.id == event.target.value);\r\n    }\r\n\r\n    function onNameChange(event): void {\r\n        setName(event.target.value);\r\n        attr.name = event.target.value;\r\n    }\r\n\r\n    function onTypeChange(event): void {\r\n        setType(event.target.value);\r\n        attr.type = event.target.value;\r\n    }\r\n\r\n    function onConfirmClick() {\r\n        const errorMessage = onConfirm();\r\n        setError(errorMessage ?? null);\r\n    }\r\n\r\n    function renderErrorMessage() {\r\n        if (!error)\r\n            return;\r\n        return (\r\n            <div className={styles.errorBanner}>\r\n                <label>Error: {error}</label>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <form className=\"pure-form pure-form-aligned\">\r\n            <fieldset>\r\n                {renderErrorMessage()}\r\n\r\n                <div className=\"pure-control-group\">\r\n                    <label>Space</label>\r\n                    <select value={spaceId} onChange={onSpaceIdChange}>\r\n                        <option key=\"0\" value={null}></option>\r\n                        {spaces.map(x => (<option key={x.id} value={x.id}>{x.name}</option>))}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"pure-control-group\">\r\n                    <label>Name</label>\r\n                    <input type=\"text\" value={name} onChange={onNameChange}/>\r\n                </div>\r\n\r\n                <div className=\"pure-control-group\">\r\n                    <label>Type</label>\r\n                    <select value={type} onChange={onTypeChange}>\r\n                        <option value=\"TEXT\">Text</option>\r\n                        <option value=\"NUMBER\">Number</option>\r\n                        <option value=\"BOOLEAN\">Boolean</option>\r\n                        <option value=\"DATE\">Date</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"pure-controls\">\r\n                    <button type=\"button\" onClick={onConfirmClick}\r\n                            className=\"pure-button pure-button-primary\">Confirm</button>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    )\r\n}"],"names":["useState","jsx","jsxs"],"mappings":"2QAYO,WAAA,CAAA,CAAoB,KACvB,OACA,SAEJ,IAAA,CACI,KAAA,CAAA,QAAA,UAAA,EAAAA,aAAAA,SAAA,KAAA,OAAA,EACA,CAAA,KAAA,OAAA,EAAAA,aAAAA,SAAA,KAAA,IAAA,EACA,CAAA,KAAA,OAAA,EAAAA,aAAAA,SAAA,KAAA,IAAA,EACA,CAAA,MAAA,QAAA,EAAAA,aAAA,SAAA,IAAA,EAEA,SAAA,gBAAA,MAAA,CACI,WAAA,MAAA,OAAA,KAAA,EACA,KAAA,MAAA,OAAA,KAAA,GAAA,EAAA,IAAA,MAAA,OAAA,KAAA,CAAwD,CAG5D,SAAA,aAAA,MAAA,CACI,QAAA,MAAA,OAAA,KAAA,EACA,KAAA,KAAA,MAAA,OAAA,KAAyB,CAG7B,SAAA,aAAA,MAAA,CACI,QAAA,MAAA,OAAA,KAAA,EACA,KAAA,KAAA,MAAA,OAAA,KAAyB,CAG7B,SAAA,gBAAA,CACI,MAAA,aAAA,YACA,SAAA,cAAA,IAAA,CAA6B,CAGjC,SAAA,oBAAA,CACI,GAAA,MAEA,OAAAC,sBAAA,MAAA,CAAA,UAAA,OAAA,YAAA,SAAAC,kBAAA,KAAA,QAAA,CAAA,SAAA,CAEe,UAAA,KAAQ,CAAA,CAAA,CAAA,CAAA,CACnB,CAIR,OAAAD,kBAAA,IAAA,OAAA,CAAA,UAAA,8BAAA,SAAAC,kBAAA,KAAA,WAAA,CAAA,SAAA,CAGa,mBAAA,EAAmBA,kBAAAA,KAAA,MAAA,CAAA,UAAA,qBAAA,SAAA,CAGhBD,kBAAAA,IAAA,QAAA,CAAA,SAAA,OAAA,CAAA,EAAYC,kBAAA,KAAA,SAAA,CAAA,MAAA,QAAA,SAAA,gBAAA,SAAA,CAERD,kBAAAA,IAAA,SAAA,CAAA,MAAA,IAAA,EAAA,GAAA,EAA6B,OAAA,IAAA,GAAAA,kBAAAA,IAAA,SAAA,CAAA,MAAA,EAAA,GAAA,SAAA,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA,CACuC,EAAA,CACxE,EAAA,EACJC,kBAAAA,KAAA,MAAA,CAAA,UAAA,qBAAA,SAAA,CAGID,kBAAAA,IAAA,QAAA,CAAA,SAAA,MAAA,CAAA,EAAWA,sBAAA,QAAA,CAAA,KAAA,OAAA,MAAA,KAAA,SAAA,aAAA,CAC4C,EAAA,EAC3DC,kBAAAA,KAAA,MAAA,CAAA,UAAA,qBAAA,SAAA,CAGID,kBAAAA,IAAA,QAAA,CAAA,SAAA,MAAA,CAAA,EAAWC,kBAAA,KAAA,SAAA,CAAA,MAAA,KAAA,SAAA,aAAA,SAAA,CAEPD,kBAAA,IAAA,SAAA,CAAA,MAAA,OAAA,SAAA,OAAA,EAAyBA,kBAAA,IAAA,SAAA,CAAA,MAAA,SAAA,SAAA,SAAA,EACIA,kBAAA,IAAA,SAAA,CAAA,MAAA,UAAA,SAAA,UAAA,EACEA,kBAAA,IAAA,SAAA,CAAA,MAAA,OAAA,SAAA,OAAA,CACN,EAAA,CAC7B,EAAA,EACJA,kBAAAA,IAAA,MAAA,CAAA,UAAA,gBAAA,SAAAA,kBAAA,IAGI,SAAC,CAAA,KAAA,SAAY,QAAA,eAAkB,UAAA,kCACb,SAAA,SAAkC,CAAA,EAAA,CACxD,CAAA,CAAA,CAAA,CAAA,CAIhB;;;;;;;;;;;;;;;;;;;;;;;;;;"}